
# per_cpu_ptr
```
[root@centos7 percpu_test]# dmesg | tail -n 130
[1041505.936134] Value of counter is 0 at Processor:127
[1041505.941077] Printing counter value of all processor after updating current processor:106
[1041505.949307] Value of counter is 0 at Processor:0
[1041505.954076] Value of counter is 0 at Processor:1
[1041505.958849] Value of counter is 0 at Processor:2
[1041505.963618] Value of counter is 0 at Processor:3
[1041505.968393] Value of counter is 0 at Processor:4
[1041505.973162] Value of counter is 0 at Processor:5
[1041505.977936] Value of counter is 0 at Processor:6
[1041505.982705] Value of counter is 0 at Processor:7
[1041505.987479] Value of counter is 0 at Processor:8
[1041505.992248] Value of counter is 0 at Processor:9
[1041505.997024] Value of counter is 0 at Processor:10
[1041506.001879] Value of counter is 0 at Processor:11
[1041506.006742] Value of counter is 0 at Processor:12
[1041506.011598] Value of counter is 0 at Processor:13
[1041506.016458] Value of counter is 0 at Processor:14
[1041506.021314] Value of counter is 0 at Processor:15
[1041506.026176] Value of counter is 0 at Processor:16
[1041506.031031] Value of counter is 0 at Processor:17
[1041506.035894] Value of counter is 0 at Processor:18
[1041506.040750] Value of counter is 0 at Processor:19
[1041506.045610] Value of counter is 0 at Processor:20
[1041506.050466] Value of counter is 0 at Processor:21
[1041506.055327] Value of counter is 0 at Processor:22
[1041506.060182] Value of counter is 0 at Processor:23
[1041506.065044] Value of counter is 0 at Processor:24
[1041506.069900] Value of counter is 0 at Processor:25
[1041506.074761] Value of counter is 0 at Processor:26
[1041506.079617] Value of counter is 0 at Processor:27
[1041506.084477] Value of counter is 0 at Processor:28
[1041506.089333] Value of counter is 0 at Processor:29
[1041506.094188] Value of counter is 0 at Processor:30
[1041506.099048] Value of counter is 0 at Processor:31
[1041506.103904] Value of counter is 0 at Processor:32
[1041506.108767] Value of counter is 0 at Processor:33
[1041506.113622] Value of counter is 0 at Processor:34
[1041506.118485] Value of counter is 0 at Processor:35
[1041506.123340] Value of counter is 0 at Processor:36
[1041506.128203] Value of counter is 0 at Processor:37
[1041506.133058] Value of counter is 0 at Processor:38
[1041506.137910] Value of counter is 0 at Processor:39
[1041506.142765] Value of counter is 0 at Processor:40
[1041506.147627] Value of counter is 0 at Processor:41
[1041506.152482] Value of counter is 0 at Processor:42
[1041506.157342] Value of counter is 0 at Processor:43
[1041506.162197] Value of counter is 0 at Processor:44
[1041506.167059] Value of counter is 0 at Processor:45
[1041506.171916] Value of counter is 0 at Processor:46
[1041506.176776] Value of counter is 0 at Processor:47
[1041506.181632] Value of counter is 0 at Processor:48
[1041506.186494] Value of counter is 0 at Processor:49
[1041506.191350] Value of counter is 0 at Processor:50
[1041506.196211] Value of counter is 0 at Processor:51
[1041506.201067] Value of counter is 0 at Processor:52
[1041506.205928] Value of counter is 0 at Processor:53
[1041506.210784] Value of counter is 0 at Processor:54
[1041506.215645] Value of counter is 0 at Processor:55
[1041506.220500] Value of counter is 0 at Processor:56
[1041506.225362] Value of counter is 0 at Processor:57
[1041506.230218] Value of counter is 0 at Processor:58
[1041506.235079] Value of counter is 0 at Processor:59
[1041506.239934] Value of counter is 0 at Processor:60
[1041506.244796] Value of counter is 0 at Processor:61
[1041506.249652] Value of counter is 0 at Processor:62
[1041506.254513] Value of counter is 0 at Processor:63
[1041506.259368] Value of counter is 0 at Processor:64
[1041506.264224] Value of counter is 0 at Processor:65
[1041506.269086] Value of counter is 0 at Processor:66
[1041506.273942] Value of counter is 0 at Processor:67
[1041506.278793] Value of counter is 0 at Processor:68
[1041506.283648] Value of counter is 0 at Processor:69
[1041506.288511] Value of counter is 0 at Processor:70
[1041506.293366] Value of counter is 0 at Processor:71
[1041506.298228] Value of counter is 0 at Processor:72
[1041506.303084] Value of counter is 0 at Processor:73
[1041506.307945] Value of counter is 0 at Processor:74
[1041506.312801] Value of counter is 0 at Processor:75
[1041506.317663] Value of counter is 0 at Processor:76
[1041506.322519] Value of counter is 0 at Processor:77
[1041506.327379] Value of counter is 0 at Processor:78
[1041506.332235] Value of counter is 0 at Processor:79
[1041506.337096] Value of counter is 0 at Processor:80
[1041506.341952] Value of counter is 0 at Processor:81
[1041506.346814] Value of counter is 0 at Processor:82
[1041506.351670] Value of counter is 0 at Processor:83
[1041506.356531] Value of counter is 0 at Processor:84
[1041506.361387] Value of counter is 0 at Processor:85
[1041506.366248] Value of counter is 0 at Processor:86
[1041506.371105] Value of counter is 0 at Processor:87
[1041506.375965] Value of counter is 0 at Processor:88
[1041506.380821] Value of counter is 0 at Processor:89
[1041506.385683] Value of counter is 0 at Processor:90
[1041506.390539] Value of counter is 0 at Processor:91
[1041506.395399] Value of counter is 0 at Processor:92
[1041506.400255] Value of counter is 0 at Processor:93
[1041506.405116] Value of counter is 0 at Processor:94
[1041506.409972] Value of counter is 0 at Processor:95
[1041506.414832] Value of counter is 0 at Processor:96
[1041506.419687] Value of counter is 0 at Processor:97
[1041506.424550] Value of counter is 0 at Processor:98
[1041506.429406] Value of counter is 0 at Processor:99
[1041506.434261] Value of counter is 0 at Processor:100
[1041506.439208] Value of counter is 0 at Processor:101
[1041506.444150] Value of counter is 0 at Processor:102
[1041506.449099] Value of counter is 0 at Processor:103
[1041506.454042] Value of counter is 0 at Processor:104
[1041506.458989] Value of counter is 0 at Processor:105
[1041506.463932] Value of counter is 10 at Processor:106
[1041506.468965] Value of counter is 0 at Processor:107
[1041506.473908] Value of counter is 0 at Processor:108
[1041506.478856] Value of counter is 0 at Processor:109
[1041506.483798] Value of counter is 0 at Processor:110
[1041506.488747] Value of counter is 0 at Processor:111
[1041506.493690] Value of counter is 0 at Processor:112
[1041506.498638] Value of counter is 0 at Processor:113
[1041506.503581] Value of counter is 0 at Processor:114
[1041506.508531] Value of counter is 0 at Processor:115
[1041506.513474] Value of counter is 0 at Processor:116
[1041506.518422] Value of counter is 0 at Processor:117
[1041506.523363] Value of counter is 0 at Processor:118
[1041506.528311] Value of counter is 0 at Processor:119
[1041506.533251] Value of counter is 0 at Processor:120
[1041506.538200] Value of counter is 0 at Processor:121
[1041506.543142] Value of counter is 0 at Processor:122
[1041506.548090] Value of counter is 0 at Processor:123
[1041506.553033] Value of counter is 0 at Processor:124
[1041506.557981] Value of counter is 0 at Processor:125
[1041506.562924] Value of counter is 0 at Processor:126
[1041506.567873] Value of counter is 0 at Processor:127
```
Processor:106的值不等于0
```
[1041506.463932] Value of counter is 10 at Processor:106
```


# 



```
[root@centos7 percpu_test]# make
make -C /lib/modules/4.14.0-115.el7a.0.1.aarch64/build \
M=/root/programming/kernel/percpu_test modules
make[1]: Entering directory '/usr/src/kernels/4.14.0-115.el7a.0.1.aarch64'
  CC [M]  /root/programming/kernel/percpu_test/percpu_test.o
  Building modules, stage 2.
  MODPOST 1 modules
  CC      /root/programming/kernel/percpu_test/percpu_test.mod.o
  LD [M]  /root/programming/kernel/percpu_test/percpu_test.ko
make[1]: Leaving directory '/usr/src/kernels/4.14.0-115.el7a.0.1.aarch64'
[root@centos7 percpu_test]# insmod  percpu_test.ko 
[root@centos7 percpu_test]# dmesg | tail -n 200
[138647.635182] Value of counter is 0 at Processor:57
[138647.639952] Value of counter is 0 at Processor:58
[138647.644727] Value of counter is 0 at Processor:59
[138647.649495] Value of counter is 0 at Processor:60
[138647.654269] Value of counter is 0 at Processor:61
[138647.659039] Value of counter is 0 at Processor:62
[138647.663812] Value of counter is 0 at Processor:63
[138647.668582] Value of counter is 0 at Processor:64
[138647.673356] Value of counter is 0 at Processor:65
[138647.678126] Value of counter is 0 at Processor:66
[138647.682903] Value of counter is 0 at Processor:67
[138647.687674] Value of counter is 0 at Processor:68
[138647.692449] Value of counter is 0 at Processor:69
[138647.697219] Value of counter is 0 at Processor:70
[138647.701995] Value of counter is 0 at Processor:71
[138647.706765] Value of counter is 0 at Processor:72
[138647.711540] Value of counter is 0 at Processor:73
[138647.716310] Value of counter is 0 at Processor:74
[138647.721083] Value of counter is 0 at Processor:75
[138647.725853] Value of counter is 0 at Processor:76
[138647.730622] Value of counter is 0 at Processor:77
[138647.735397] Value of counter is 0 at Processor:78
[138647.740164] Value of counter is 0 at Processor:79
[138647.744940] Value of counter is 0 at Processor:80
[138647.749710] Value of counter is 0 at Processor:81
[138647.754484] Value of counter is 0 at Processor:82
[138647.759254] Value of counter is 0 at Processor:83
[138647.764027] Value of counter is 0 at Processor:84
[138647.768797] Value of counter is 0 at Processor:85
[138647.773572] Value of counter is 0 at Processor:86
[138647.778342] Value of counter is 0 at Processor:87
[138647.783118] Value of counter is 0 at Processor:88
[138647.787888] Value of counter is 0 at Processor:89
[138647.792663] Value of counter is 0 at Processor:90
[138647.797433] Value of counter is 0 at Processor:91
[138647.802206] Value of counter is 0 at Processor:92
[138647.806974] Value of counter is 0 at Processor:93
[138647.811749] Value of counter is 0 at Processor:94
[138647.816519] Value of counter is 0 at Processor:95
[138647.821294] Value of counter is 0 at Processor:96
[138647.826064] Value of counter is 0 at Processor:97
[138647.830838] Value of counter is 0 at Processor:98
[138647.835606] Value of counter is 0 at Processor:99
[138647.840375] Value of counter is 0 at Processor:100
[138647.845236] Value of counter is 0 at Processor:101
[138647.850091] Value of counter is 0 at Processor:102
[138647.854951] Value of counter is 0 at Processor:103
[138647.859807] Value of counter is 0 at Processor:104
[138647.864667] Value of counter is 0 at Processor:105
[138647.869522] Value of counter is 0 at Processor:106
[138647.874383] Value of counter is 0 at Processor:107
[138647.879239] Value of counter is 0 at Processor:108
[138647.884099] Value of counter is 0 at Processor:109
[138647.888954] Value of counter is 0 at Processor:110
[138647.893815] Value of counter is 0 at Processor:111
[138647.898670] Value of counter is 0 at Processor:112
[138647.903531] Value of counter is 0 at Processor:113
[138647.908386] Value of counter is 0 at Processor:114
[138647.913253] Value of counter is 0 at Processor:115
[138647.918109] Value of counter is 0 at Processor:116
[138647.922969] Value of counter is 0 at Processor:117
[138647.927824] Value of counter is 0 at Processor:118
[138647.932685] Value of counter is 0 at Processor:119
[138647.937540] Value of counter is 0 at Processor:120
[138647.942400] Value of counter is 0 at Processor:121
[138647.947256] Value of counter is 0 at Processor:122
[138647.952117] Value of counter is 0 at Processor:123
[138647.956972] Value of counter is 0 at Processor:124
[138647.961833] Value of counter is 0 at Processor:125
[138647.966688] Value of counter is 0 at Processor:126
[138647.971548] Value of counter is 0 at Processor:127
[138647.976404] Printing counter value of all processor after updating current processor:67
[138647.984461] Value of counter is 0 at Processor:0
[138647.989143] Value of counter is 0 at Processor:1
[138647.993831] Value of counter is 0 at Processor:2
[138647.998513] Value of counter is 0 at Processor:3
[138648.003201] Value of counter is 0 at Processor:4
[138648.007883] Value of counter is 0 at Processor:5
[138648.012571] Value of counter is 0 at Processor:6
[138648.017253] Value of counter is 0 at Processor:7
[138648.021941] Value of counter is 0 at Processor:8
[138648.026623] Value of counter is 0 at Processor:9
[138648.031310] Value of counter is 0 at Processor:10
[138648.036078] Value of counter is 0 at Processor:11
[138648.040853] Value of counter is 0 at Processor:12
[138648.045623] Value of counter is 0 at Processor:13
[138648.050392] Value of counter is 0 at Processor:14
[138648.055167] Value of counter is 0 at Processor:15
[138648.059937] Value of counter is 0 at Processor:16
[138648.064711] Value of counter is 0 at Processor:17
[138648.069481] Value of counter is 0 at Processor:18
[138648.074257] Value of counter is 0 at Processor:19
[138648.079024] Value of counter is 0 at Processor:20
[138648.083800] Value of counter is 0 at Processor:21
[138648.088567] Value of counter is 0 at Processor:22
[138648.093342] Value of counter is 0 at Processor:23
[138648.098112] Value of counter is 0 at Processor:24
[138648.102887] Value of counter is 0 at Processor:25
[138648.107657] Value of counter is 0 at Processor:26
[138648.112432] Value of counter is 0 at Processor:27
[138648.117202] Value of counter is 0 at Processor:28
[138648.121978] Value of counter is 0 at Processor:29
[138648.126748] Value of counter is 0 at Processor:30
[138648.131523] Value of counter is 0 at Processor:31
[138648.136293] Value of counter is 0 at Processor:32
[138648.141068] Value of counter is 0 at Processor:33
[138648.145838] Value of counter is 0 at Processor:34
[138648.150605] Value of counter is 0 at Processor:35
[138648.155380] Value of counter is 0 at Processor:36
[138648.160150] Value of counter is 0 at Processor:37
[138648.164925] Value of counter is 0 at Processor:38
[138648.169695] Value of counter is 0 at Processor:39
[138648.174470] Value of counter is 0 at Processor:40
[138648.179240] Value of counter is 0 at Processor:41
[138648.184015] Value of counter is 0 at Processor:42
[138648.188785] Value of counter is 0 at Processor:43
[138648.193560] Value of counter is 0 at Processor:44
[138648.198330] Value of counter is 0 at Processor:45
[138648.203103] Value of counter is 0 at Processor:46
[138648.207873] Value of counter is 0 at Processor:47
[138648.212648] Value of counter is 0 at Processor:48
[138648.217418] Value of counter is 0 at Processor:49
[138648.222194] Value of counter is 0 at Processor:50
[138648.226964] Value of counter is 0 at Processor:51
[138648.231738] Value of counter is 0 at Processor:52
[138648.236508] Value of counter is 0 at Processor:53
[138648.241283] Value of counter is 0 at Processor:54
[138648.246053] Value of counter is 0 at Processor:55
[138648.250828] Value of counter is 0 at Processor:56
[138648.255598] Value of counter is 0 at Processor:57
[138648.260367] Value of counter is 0 at Processor:58
[138648.265142] Value of counter is 0 at Processor:59
[138648.269912] Value of counter is 0 at Processor:60
[138648.274687] Value of counter is 0 at Processor:61
[138648.279457] Value of counter is 0 at Processor:62
[138648.284232] Value of counter is 0 at Processor:63
[138648.289002] Value of counter is 0 at Processor:64
[138648.293775] Value of counter is 0 at Processor:65
[138648.298545] Value of counter is 0 at Processor:66
[138648.303320] Value of counter is 99 at Processor:67
[138648.308175] Value of counter is 0 at Processor:68
[138648.312953] Value of counter is 0 at Processor:69
[138648.317725] Value of counter is 0 at Processor:70
[138648.322500] Value of counter is 0 at Processor:71
[138648.327270] Value of counter is 0 at Processor:72
[138648.332045] Value of counter is 0 at Processor:73
[138648.336815] Value of counter is 0 at Processor:74
[138648.341590] Value of counter is 0 at Processor:75
[138648.346360] Value of counter is 0 at Processor:76
[138648.351135] Value of counter is 0 at Processor:77
[138648.355905] Value of counter is 0 at Processor:78
[138648.360672] Value of counter is 0 at Processor:79
[138648.365450] Value of counter is 0 at Processor:80
[138648.370222] Value of counter is 0 at Processor:81
[138648.374997] Value of counter is 0 at Processor:82
[138648.379767] Value of counter is 0 at Processor:83
[138648.384540] Value of counter is 0 at Processor:84
[138648.389311] Value of counter is 0 at Processor:85
[138648.394085] Value of counter is 0 at Processor:86
[138648.398856] Value of counter is 0 at Processor:87
[138648.403630] Value of counter is 0 at Processor:88
[138648.408400] Value of counter is 0 at Processor:89
[138648.413172] Value of counter is 0 at Processor:90
[138648.417943] Value of counter is 0 at Processor:91
[138648.422718] Value of counter is 0 at Processor:92
[138648.427488] Value of counter is 0 at Processor:93
[138648.432263] Value of counter is 0 at Processor:94
[138648.437033] Value of counter is 0 at Processor:95
[138648.441807] Value of counter is 0 at Processor:96
[138648.446577] Value of counter is 0 at Processor:97
[138648.451352] Value of counter is 0 at Processor:98
[138648.456122] Value of counter is 0 at Processor:99
[138648.460897] Value of counter is 0 at Processor:100
[138648.465753] Value of counter is 0 at Processor:101
[138648.470608] Value of counter is 0 at Processor:102
[138648.475468] Value of counter is 0 at Processor:103
[138648.480324] Value of counter is 0 at Processor:104
[138648.485184] Value of counter is 0 at Processor:105
[138648.490040] Value of counter is 0 at Processor:106
[138648.494900] Value of counter is 0 at Processor:107
[138648.499755] Value of counter is 0 at Processor:108
[138648.504616] Value of counter is 0 at Processor:109
[138648.509471] Value of counter is 0 at Processor:110
[138648.514332] Value of counter is 0 at Processor:111
[138648.519188] Value of counter is 0 at Processor:112
[138648.524039] Value of counter is 0 at Processor:113
[138648.528894] Value of counter is 0 at Processor:114
[138648.533754] Value of counter is 0 at Processor:115
[138648.538610] Value of counter is 0 at Processor:116
[138648.543471] Value of counter is 0 at Processor:117
[138648.548326] Value of counter is 0 at Processor:118
[138648.553186] Value of counter is 0 at Processor:119
[138648.558041] Value of counter is 0 at Processor:120
[138648.562902] Value of counter is 0 at Processor:121
[138648.567757] Value of counter is 0 at Processor:122
[138648.572618] Value of counter is 0 at Processor:123
[138648.577474] Value of counter is 0 at Processor:124
[138648.582334] Value of counter is 0 at Processor:125
[138648.587190] Value of counter is 0 at Processor:126
[138648.592050] Value of counter is 0 at Processor:127
[root@centos7 percpu_test]# 
```